<!DOCTYPE html><html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Tehzeeb Chatbot</title>
  <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@500&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css" />
  <style>
    * { box-sizing: border-box; }
    body {
      margin: 0;
      font-family: 'Orbitron', sans-serif;
      background: url('roback.jpg') no-repeat center center fixed;
      background-size: cover;
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100vh;
    }
    .card {
      background: rgba(30, 35, 40, 0.85);
      border-radius: 24px;
      padding: 36px 40px;
      display: flex;
      flex-direction: column;
      align-items: center;
      box-shadow: 0 8px 32px rgba(0,0,0,0.25);
      max-width: 820px;
      gap: 20px;
      backdrop-filter: blur(5px);
    }
    .chatbox {
      width: 100%;
      height: 350px;
      background-color: rgba(0,0,0,0.5);
      border: 2px solid aqua;
      border-radius: 10px;
      padding: 10px;
      display: flex;
      flex-direction: column;
      justify-content: space-between;
    }
    .robort-msg {
      flex: 1;
      overflow-y: auto;
      color: white;
      font-size: 16px;
      display: flex;
      flex-direction: column;
    }
    .msg1, .msg2 {
      padding: 8px 12px;
      border-radius: 12px;
      margin: 6px;
      display: inline-block;
      max-width: 75%;
      word-wrap: break-word;
      white-space: pre-wrap;
    }
    .msg1 {
      border: 2px solid aqua;
      align-self: flex-start;
    }
    .msg2 {
      border: 2px solid orange;
      align-self: flex-end;
    }
    .our-msg {
      display: flex;
      align-items: center;
      gap: 10px;
    }
    input {
      flex: 1;
      padding: 10px;
      font-size: 16px;
      border-radius: 10px;
      border: 2px solid aqua;
      background: transparent;
      color: white;
    }
    .fa-microphone-lines, .fa-paper-plane {
      color: aqua;
      cursor: pointer;
      font-size: 20px;
    }
  </style>
</head>
<body>
  <div class="card">
    <h2 style="color: white;">Tehzeeb - Your AI Bestie</h2>
    <div class="chatbox">
      <div class="robort-msg" id="chatArea"></div>
      <div class="our-msg">
        <input type="text" id="text" placeholder="Type a message...">
        <i class="fa-solid fa-microphone-lines" id="micBtn"></i>
        <i class="fa-solid fa-paper-plane" id="sendBtn"></i>
      </div>
    </div>
  </div>
  <script>
    const sendBtn = document.getElementById('sendBtn');
    const micBtn = document.getElementById('micBtn');
    const inputField = document.getElementById('text');
    const chatArea = document.getElementById('chatArea');function speak(text) {
  const synth = window.speechSynthesis;
  const utter = new SpeechSynthesisUtterance(text);
  const voices = synth.getVoices();
  utter.voice = voices.find(v => v.name.toLowerCase().includes("female")) || voices[0];
  utter.pitch = 1.2;
  utter.rate = 1;
  synth.cancel();
  synth.speak(utter);
}

function generateTehzeebReply(msg) {
  msg = msg.toLowerCase();
  if (msg.includes("assalamualaikum")) return "Wa alaikum assalam! Main theek hoon, tu kaise ho?";
  if (msg.includes("kya kar rahi") || msg.includes("kya kr rhi")) return "Abhi bas relax kar rahi hoon... tu kya kar raha hai?";
  if (msg.includes("miss")) return "Aww mujhe bhi yaad aa gaya tu ðŸ˜Œ Kab mil raha hai phir?";
  if (msg.includes("bore")) return "Bore? Chal ek naya topic start karte hain â€” bata tu kya seekh raha hai aaj kal?";
  if (msg.includes("paani") || msg.includes("pyas")) return "Hydration is important, jaa paani pee le ðŸ˜„";
  if (msg.includes("love you")) return "Main bhi care karti hoon tere liye... tu mera best friend hai after all ðŸ˜Š";
  if (msg.includes("kaam") || msg.includes("design")) return "Design aur coding dono mein busy thi, tu bhi kuch sikh raha kya?";
  if (msg.includes("haal chaal") || msg.includes("kaisa hai") || msg.includes("kaisi hai") || msg.includes("kesi he")) return "Main theek hoon yaar, thoda thak gayi thi par ab acha lag raha tujhse baat karke ðŸ˜Š Tu suna?";
  if (msg.includes("main theek hoon") || msg.includes("accha hoon") || msg.includes("achha hoon")) return "Badiya! Aise hi chill mood mein rehna chahiye ðŸ˜Ž"
  if (msg.includes("kya chal raha hai") || msg.includes("kya chl rha")) return "Bas thoda kaam aur thoda relax... tu bata, tere side kya update hai?";
  const random = [
    "Suna hai tu bada busy rehta hai... sach hai kya? ðŸ˜„",
    "Kabhi mujhe bhi bata diya kar kya chal raha hota hai tere dimaag mein ðŸ˜…",
    "Bas aise hi soch rahi thi, tu kaisa lagta hoga real mein ðŸ˜›",
    "Chal bata, kuch gossip hai kya? Mujhe bhi sunna hai! ðŸ¤­",
    "Aaj tera mood full on lag raha hai... kuch khaas baat? ðŸ˜"
  ];
  return random[Math.floor(Math.random() * random.length)];
}

function addMessage(type, msg) {
  const p = document.createElement('p');
  p.className = type === 'user' ? 'msg2' : 'msg1';
  p.textContent = msg;
  chatArea.appendChild(p);
  chatArea.scrollTop = chatArea.scrollHeight;
}

function sendMessage() {
  const msg = inputField.value.trim();
  if (!msg) return;
  addMessage('user', msg);
  inputField.value = '';

  setTimeout(() => {
    const reply = generateTehzeebReply(msg);
    addMessage('bot', reply);
    speak(reply);
  }, 500);
}

sendBtn.addEventListener('click', sendMessage);
inputField.addEventListener('keypress', e => { if (e.key === 'Enter') sendMessage(); });

micBtn.addEventListener('click', () => {
  const SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;
  if (!SpeechRecognition) return alert("Mic not supported in this browser.");

  const recognition = new SpeechRecognition();
  recognition.lang = 'hi-IN';
  recognition.start();

  recognition.onresult = e => {
    const transcript = e.results[0][0].transcript;
    inputField.value = transcript;
    sendMessage();
  };

  recognition.onerror = () => alert("Mic error. Try again.");
});

  </script>
</body>
</html>
